### 0x72 Obtain Data from Memory Buffer Command

이 명령어는 `0x18 Inventory with memory buffer` 명령을 통해 리더기 내부 메모리 버퍼에 저장된 모든 태그 정보를 가져오는 데 사용됩니다. 이 명령은 버퍼의 데이터를 지우지 않으므로 여러 번 호출하여 데이터를 읽을 수 있습니다.

#### 1. 요청 프레임 (PC → E310)

**프레임 구조:**

| Len | Adr | Cmd | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :-- | :--- | :--- |
| 4 | 1 | 1 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `0x04`. |
| `Adr` | 1 | 리더기 주소 (0x00 ~ 0xFE). 0xFF는 브로드캐스트. |
| `Cmd` | 1 | 명령어 코드. `0x72`로 고정. |
| `CRC-16`| 2 | `Len`부터 `Cmd`까지의 CRC-16 체크섬. |

---

#### 2. 응답 프레임 (E310 → PC)

**프레임 구조:**

| Len | Adr | reCmd | Status | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :--- | :--- | :--- | :--- | :--- |
| 가변 | 1 | 1 | 1 | 가변 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `Adr`부터 `CRC-16` MSB까지의 총 바이트 수. |
| `Adr` | 1 | 리더기 주소. |
| `reCmd` | 1 | 응답하는 명령어 코드. `0x72`로 고정. |
| `Status`| 1 | 명령어 실행 상태. <br> `0x01`: 동작 완료. 모든 태그 정보를 보고. <br> `0x03`: 응답 프레임 하나에 모든 데이터를 담을 수 없어 추가 프레임이 뒤따름. |
| `Data[]`| 가변 | 버퍼에 저장된 태그 데이터. 아래 "Data[] 필드 포맷" 참조. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

**Data[] 필드 포맷:**
`Data[]` 필드는 `Num`과 그 뒤를 잇는 여러 개의 `Tag Data Block`으로 구성됩니다.

| Num | Tag Data Block 1 | Tag Data Block 2 | ... |
| :-- | :--- | :--- | :-- |
| 1 | 가변 | 가변 | ... |

- **Num (1 byte):** 이번 응답 프레임에 포함된 태그 데이터 블록의 수.

**태그 데이터 블록(Tag Data Block) 포맷:**

| Ant | Len | EPC/TID | RSSI | Count |
| :-- | :-- | :--- | :-- | :--- |
| 1 | 1 | N | 1 | 1 |

- **Ant (1 byte):** 태그를 식별한 안테나 번호.
- **Len (1 byte):** EPC/TID 데이터의 바이트 길이.
- **EPC/TID (N bytes):** 태그의 EPC 또는 TID 데이터.
- **RSSI (1 byte):** 태그가 식별될 때의 신호 강도.
- **Count (1 byte):** 해당 태그가 감지된 총 횟수 (255회 이상은 0xFF).
