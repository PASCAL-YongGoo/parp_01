### 0x1a Inventory with EPC Number Command

이 명령어는 특정 EPC 번호와 일치하거나 일치하지 않는 태그만 선별적으로 인벤토리(식별)하는 데 사용됩니다. 이를 통해 전체 태그 중 원하는 EPC 패턴을 가진 특정 태그 그룹만 찾아낼 수 있습니다.

#### 1. 요청 프레임 (PC → E310)

**프레임 구조:**

| Len | Adr | Cmd | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :-- | :-- | :--- | :--- |
| 가변 | 1 | 1 | 가변 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `Adr`부터 `CRC-16` MSB까지의 총 바이트 수. |
| `Adr` | 1 | 리더기 주소 (0x00 ~ 0xFE). 0xFF는 브로드캐스트. |
| `Cmd` | 1 | 명령어 코드. `0x1a`으로 고정. |
| `Data[]`| 가변 | EPC 필터링에 필요한 파라미터. 아래 "Data[] 필드 포맷" 참조. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

**Data[] 필드 포맷:**

| MatchType | MatchLen | MatchOffset | EPCData |
| :--- | :--- | :--- | :--- |
| 1 | 2 | 2 | 가변 |

**Data[] 파라미터 설명:**

| 파라미터 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `MatchType`| 1 | EPC 매칭 유형. <br> `0`: `EPCData`와 일치하는 태그만 응답. <br> `1`: `EPCData`와 일치하지 않는 모든 태그 응답. |
| `MatchLen` | 2 | 비교할 EPC 데이터의 비트(bit) 길이. (1 ~ 196 bits) |
| `MatchOffset`| 2 | 비교를 시작할 EPC 메모리의 비트(bit) 주소. (0 ~ 495 bits) |
| `EPCData` | 가변 | 비교할 기준 EPC 데이터. 길이는 `MatchLen`에 따름. |

**참고:** `MatchLen`과 `MatchOffset`의 합은 496 비트를 초과할 수 없습니다.

---

#### 2. 응답 프레임 (E310 → PC)

**프레임 구조:**

| Len | Adr | reCmd | Status | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :--- | :--- | :--- | :--- | :--- |
| 가변 | 1 | 1 | 1 | 가변 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `Adr`부터 `CRC-16` MSB까지의 총 바이트 수. |
| `Adr` | 1 | 리더기 주소. |
| `reCmd` | 1 | 응답하는 명령어 코드. `0x1a`로 고정. |
| `Status`| 1 | 명령어 실행 상태. `0x01`(성공), `0x02`(타임아웃) 등. |
| `Data[]`| 가변 | 식별된 태그 정보. 아래 "Data[] 필드 포맷" 참조. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

**Data[] 필드 포맷:**

| Ant | Num | EPC ID |
| :-- | :-- | :--- |
| 1 | 1 | 가변 |

**Data[] 파라미터 설명:**

| 파라미터 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Ant` | 1 | 태그를 식별한 안테나 번호. |
| `Num` | 1 | 응답에 포함된 태그의 수. |
| `EPC ID`| 가변 | 식별된 태그의 EPC 정보. <br> 구성: `EPC Length` (1 byte) + `EPC Number` (가변) + `RSSI` (1 byte) |
