### 0x18 Inventory with Memory Buffer Command

이 명령어는 일반 인벤토리(`0x01`)와 유사하게 태그를 식별하지만, 식별된 태그 데이터를 PC로 즉시 전송하는 대신 리더기의 내부 메모리 버퍼에 저장합니다. 이를 통해 연속적인 인벤토리 동작이 가능해집니다. 버퍼에 저장된 데이터는 별도의 명령어(`0x72`, `0x74` 등)를 통해 조회하거나 지울 수 있습니다.

#### 1. 요청 프레임 (PC → E310)

**프레임 구조:**

| Len | Adr | Cmd | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :-- | :-- | :--- | :--- |
| 가변 | 1 | 1 | 가변 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `Adr`부터 `CRC-16` MSB까지의 총 바이트 수. |
| `Adr` | 1 | 리더기 주소 (0x00 ~ 0xFE). 0xFF는 브로드캐스트. |
| `Cmd` | 1 | 명령어 코드. `0x18`으로 고정. |
| `Data[]`| 가변 | 인벤토리 파라미터. `0x01` 명령어와 동일한 파라미터(`QValue`, `Session`, `Mask` 등)를 사용합니다. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

---

#### 2. 응답 프레임 (E310 → PC)

**프레임 구조:**

| Len | Adr | reCmd | Status | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :--- | :--- | :--- | :--- | :--- |
| 9 | 1 | 1 | 1 | 4 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `0x09`. |
| `Adr` | 1 | 리더기 주소. |
| `reCmd` | 1 | 응답하는 명령어 코드. `0x18`으로 고정. |
| `Status`| 1 | 명령어 실행 상태. 성공 시 `0x00`. |
| `Data[]`| 4 | 버퍼 및 태그 수 정보. 아래 "Data[] 필드 포맷" 참조. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

**Data[] 필드 포맷:**

| BufferCount | TagNum |
| :--- | :--- |
| 2 | 2 |

**Data[] 파라미터 설명:**

| 파라미터 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `BufferCount`| 2 | 현재 리더기 메모리 버퍼에 저장된 총 태그의 수. (중복 제외) |
| `TagNum` | 2 | **이번** 인벤토리 동작에서 식별된 태그의 수. (중복 포함) |
