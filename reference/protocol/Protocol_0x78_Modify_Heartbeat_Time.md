### 0x78 Load/Modify Heartbeat Packet Time Break Command

이 명령어는 '실시간 인벤토리 모드'에서 태그가 감지되지 않을 때 하트비트(heartbeat) 패킷을 전송하는 시간 간격을 수정하거나 현재 설정된 값을 불러오는 데 사용됩니다. 하트비트 패킷은 리더기가 정상 동작 중임을 알리는 역할을 합니다.

#### 1. 요청 프레임 (PC → E310)

**프레임 구조:**

| Len | Adr | Cmd | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :-- | :-- | :--- | :--- |
| 5 | 1 | 1 | 1 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `0x05`. |
| `Adr` | 1 | 리더기 주소 (0x00 ~ 0xFE). 0xFF는 브로드캐스트. |
| `Cmd` | 1 | 명령어 코드. `0x78`으로 고정. |
| `Data[]`| 1 | 하트비트 시간 간격 설정 값. 아래 "Data[] 필드 포맷" 참조. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

**Data[] 필드 포맷:**

| HeartBeatTime |
| :--- |
| 1 |

**Data[] 파라미터 설명:**

| 파라미터 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `HeartBeatTime`| 1 | **bit 7 (동작 플래그):** <br> `0`: 현재 설정된 시간 간격 불러오기 (이 경우 bit 0-6은 무시됨). <br> `1`: 새로운 시간 간격으로 수정. <br> **bit 0-6 (시간 간격):** <br> `bit 7`이 `1`일 때, 설정할 새로운 시간 간격 (0~127). 단위는 30초. (0 ~ 3810초). 값이 0이면 하트비트 패킷 전송을 비활성화합니다. |

---

#### 2. 응답 프레임 (E310 → PC)

**프레임 구조:**

| Len | Adr | reCmd | Status | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :--- | :--- | :--- | :--- | :--- |
| 6 | 1 | 1 | 1 | 1 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `0x06`. |
| `Adr` | 1 | 리더기 주소. |
| `reCmd` | 1 | 응답하는 명령어 코드. `0x78`으로 고정. |
| `Status`| 1 | 명령어 실행 상태. 성공 시 `0x00`. |
| `Data[]`| 1 | 현재 설정된 하트비트 시간 간격. 아래 "Data[] 필드 포맷" 참조. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

**응답 Data[] 필드 포맷:**

| HeartBeatTime |
| :--- |
| 1 |

**응답 Data[] 파라미터 설명:**

| 파라미터 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `HeartBeatTime`| 1 | **bit 7:** 예약됨 (기본값 0). <br> **bit 0-6:** 현재 설정된 하트비트 시간 간격 (0~127). |
