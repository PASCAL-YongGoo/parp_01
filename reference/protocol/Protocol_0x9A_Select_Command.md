### 0x9A Select Command

이 명령어는 EPC C1G2 프로토콜의 `Select` 명령을 독립적으로 실행하기 위해 사용됩니다. 일반적으로 `Select`는 인벤토리 명령의 일부로 동작하지만, 이 명령어를 사용하면 여러 안테나 포트에서 동시에 `Select` 명령을 전송하여 특정 조건을 만족하는 태그 그룹을 미리 선택(활성화)할 수 있습니다. 이후 실행되는 인벤토리 명령은 이렇게 선택된 태그 그룹만을 대상으로 하게 됩니다.

#### 1. 요청 프레임 (PC → E310)

**프레임 구조:**

| Len | Adr | Cmd | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :-- | :-- | :--- | :--- |
| 가변 | 1 | 1 | 가변 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `Adr`부터 `CRC-16` MSB까지의 총 바이트 수. |
| `Adr` | 1 | 리더기 주소 (0x00 ~ 0xFE). 0xFF는 브로드캐스트. |
| `Cmd` | 1 | 명령어 코드. `0x9A`로 고정. |
| `Data[]`| 가변 | Select 동작에 필요한 파라미터. 아래 "Data[] 필드 포맷" 참조. |
| `CRC-16`| 2 | `Len`부터 `Data[]`까지의 CRC-16 체크섬. |

**Data[] 필드 포맷:**

| Ant | SelTarget | SelAction | MaskMem | MaskAdr | MaskLen | MaskData | Truncate |
| :-- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1/2 | 1 | 1 | 1 | 2 | 1 | 가변 | 1 |

**Data[] 파라미터 설명:**

| 파라미터 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Ant` | 1/2 | 명령을 전송할 안테나를 지정하는 비트마스크. (1-8포트 리더는 1바이트, 16포트 리더는 2바이트) |
| `SelTarget`| 1 | `Select` 대상 플래그 (S0, S1, S2, S3, SL). |
| `SelAction`| 1 | `Select` 동작 (0~7). 매뉴얼의 Action 테이블 참조. |
| `MaskMem` | 1 | 마스크를 적용할 메모리 영역 (EPC, TID, User). |
| `MaskAdr` | 2 | 마스크 시작 비트 주소. |
| `MaskLen` | 1 | 마스크의 비트 길이. |
| `MaskData`| 가변 | 마스크 데이터. |
| `Truncate` | 1 | 잘림(Truncation) 활성화 여부. (0: 비활성화, 1: 활성화) |

---

#### 2. 응답 프레임 (E310 → PC)

**프레임 구조:**

| Len | Adr | reCmd | Status | Data[] | CRC-16 (LSB) | CRC-16 (MSB) |
| :-- | :-- | :--- | :--- | :--- | :--- | :--- |
| 5 | 1 | 1 | 1 | 0 | 1 | 1 |

**필드 설명:**

| 필드 | 길이 (Byte) | 설명 |
| :--- | :--- | :--- |
| `Len` | 1 | `0x05`. |
| `Adr` | 1 | 리더기 주소. |
| `reCmd` | 1 | 응답하는 명령어 코드. `0x9A`로 고정. |
| `Status`| 1 | 명령어 실행 상태. 성공 시 `0x00`. |
| `Data[]`| 0 | 데이터 없음. |
| `CRC-16`| 2 | `Len`부터 `Status`까지의 CRC-16 체크섬. |
